(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6eed7097"],{"3d35":function(e,t,i){"use strict";var s=i("9e86"),n=i.n(s);n.a},"9e86":function(e,t,i){},bfd4:function(e,t,i){},c15b:function(e,t,i){"use strict";var s=i("bfd4"),n=i.n(s);n.a},c639:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",staticClass:"container"},[i("div",{staticClass:"bg"}),i("div",{staticClass:"buttons"},[i("div",{staticClass:"button",on:{click:e.toggleFullscreen}},[e._v("全屏")]),i("div",{staticClass:"button",on:{click:e.gotoTop}},[e._v("顶部")]),i("div",{staticClass:"button",on:{click:e.jumpToAlbum}},[e._v("跳转")]),i("div",{staticClass:"button",on:{click:e.restorePage}},[e._v("恢复")])]),i("div",{staticClass:"main"},[i("h1",{staticClass:"main-title"},[e._v("BeautifulGirls")]),i("Row",e._l(e.albums,function(t){return i("i-col",{key:t,staticStyle:{"text-align":"center",margin:"30px 0"},attrs:{lg:6,md:12,sm:24,xs:24}},[i("div",{staticClass:"album"},[i("span",{staticClass:"album-index"},[e._v("#"+e._s(t))]),t>5?i("img",{attrs:{src:e.imageBaseUrl+t+"/1.jpg",onerror:"this.style.display = 'none'"},on:{click:function(i){e.showAlbumBrowser(t)}}}):e._e()])])}),1)],1),i("div",{staticClass:"loader",on:{click:e.nextPage}},[e._v("Page "+e._s(e.page)+" - Load More")]),i("album-browser",{ref:"albumBrowser"})],1)},n=[],a=(i("cadf"),i("551c"),i("097d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"browser",staticClass:"wraper",on:{touchmove:function(e){e.preventDefault()},scroll:function(e){e.preventDefault()}}},[i("img",{ref:"img",class:{"v-center":!e.realLarge},style:{maxHeight:e.realLarge?null:"100%",maxWidth:e.realLarge?null:"100%",top:e.realLarge?e.imagePosition.top+"px":null,left:e.realLarge?e.imagePosition.left+"px":null},attrs:{src:""+e.imageBaseUrl+e.albumIndex+"/"+e.imageIndex+".jpg"},on:{load:e.imgLoaded,error:e.imgError,click:e.onImageClick,touchstart:e.onImageTouchStart,touchend:e.onImageTouchEnd,touchmove:e.onImageDragging}}),i("div",{staticClass:"button small-button close-btn",on:{click:e.hide}},[e._v("关闭")]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying,expression:"isPlaying"}],staticClass:"status"},[e._v("播放中...")]),i("Row",{staticClass:"control-panel"},[i("i-col",{attrs:{lg:7,md:4,sm:0,xs:0}},[e._v(" ")]),i("i-col",{attrs:{lg:10,md:16,sm:24,xs:24}},[i("div",{staticClass:"control-buttons"},[i("div",{staticClass:"button small-button prev-btn",on:{click:e.prev}},[e._v("上一张")]),i("div",{staticClass:"button big-button play-btn",on:{click:e.togglePlay}},[e._v("播放")]),i("div",{staticClass:"button small-button next-btn",on:{click:e.next}},[e._v("下一张")]),i("div",{staticClass:"button small-button real-large-btn",on:{click:e.toggleRealLarge}},[e._v("1 : 1")])])]),i("i-col",{attrs:{lg:7,md:4,sm:0,xs:0}},[e._v(" ")])],1),e.loading?i("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)}),o=[],l={data:function(){return{albumIndex:32610,imageBaseUrl:"https://ii.hywly.com/a/1/",imageIndex:1,loading:!1,realLarge:!1,isPlaying:!1,playTimer:null,isImageDragging:!1,imagePosition:{range:{top:0,left:0},x:0,y:0,top:0,left:0}}},methods:{show:function(e){this.albumIndex=e,this.imageIndex=1,this.$refs.browser.style.display="block",this.$refs.browser.style.opacity="1",window.addEventListener("keydown",this.keydownWatcher)},hide:function(){this.$refs.browser.style.display="none",this.$refs.browser.style.opacity="0",this.imageIndex=1,this.realLarge=!1,this.playTimer&&window.clearInterval(this.playTimer),this.playTimer=null,this.isPlaying=!1,window.removeEventListener("keydown",this.keydownWatcher)},next:function(){this.imageIndex++,this.loading=!0,this.realLarge=!1},prev:function(){this.imageIndex>1?(this.imageIndex--,this.loading=!0,this.realLarge=!1):this.$Message.info("已经是第一张")},toggleRealLarge:function(){var e=this;this.realLarge=!this.realLarge,this.realLarge&&setTimeout(function(){e.imagePosition.range.top=window.screen.height-e.$refs.img.clientHeight,e.imagePosition.range.left=window.screen.width-e.$refs.img.clientWidth})},onImageClick:function(){!this.isPlaying&&this.next()},onImageTouchStart:function(e){if(this.realLarge){var t=e.touches||e.targetTouches||e.changedTouches;this.isImageDragging=!0,this.imagePosition.x=t[0].screenX,this.imagePosition.y=t[0].screenY}},onImageTouchEnd:function(e){this.isImageDragging=!1},onImageDragging:function(e){if(this.realLarge){var t=e.touches||e.targetTouches||e.changedTouches,i=t[0].screenX,s=t[0].screenY,n=this.imagePosition.left+2*(i-this.imagePosition.x),a=this.imagePosition.top+2*(s-this.imagePosition.y);n<0&&n>this.imagePosition.range.left&&(this.imagePosition.left=n,this.imagePosition.x=i),a<0&&a>this.imagePosition.range.top&&(this.imagePosition.top=a,this.imagePosition.y=s)}},imgLoaded:function(){this.loading=!1},imgError:function(){this.$Message.error("已达相册末尾"),this.isPlaying?this.imageIndex=1:this.imageIndex--},togglePlay:function(){this.isPlaying=!this.isPlaying,this.isPlaying?this.playTimer=window.setInterval(this.next,3e3):(window.clearInterval(this.playTimer),this.playTimer=null)},keydownWatcher:function(e){var t=e.code;switch(t){case"ArrowRight":this.next();break;case"ArrowLeft":this.prev();break;case"Digit1":this.realLarge=!this.realLarge;break;case"Space":this.togglePlay();break;case"KeyC":this.hide();break;default:break}}}},r=l,c=(i("ef80"),i("c15b"),i("2877")),u=Object(c["a"])(r,a,o,!1,null,"a4385b70",null);u.options.__file="AlbumBrowser.vue";var g=u.exports,m={components:{AlbumBrowser:g},data:function(){return{page:0,albums:[],imageBaseUrl:"https://ii.hywly.com/a/1/",fullscreen:!1,restore:{page:0},mode:"browse",isInitial:!0,jumpToAlbumIndex:1,jumpStartIndex:1}},watch:{page:function(e){var t;"browse"===this.mode?t=1:"jump"===this.mode&&this.isInitial?(t=24*(e-1)+1,this.jumpStartIndex=t):"jump"!==this.mode||this.isInitial||(t=this.jumpStartIndex);for(var i=24*(e-1)+24,s=[],n=t;n<=i;n++)s.push(n);this.albums=s}},mounted:function(){this.page=1},methods:{nextPage:function(){this.isInitial=!1,this.page++},gotoTop:function(){this.$refs.container.scrollTo(0,0)},jumpToAlbum:function(){var e=this;this.$Modal.confirm({title:"跳转到相册",render:function(t){return t("Input",{props:{autofocus:!0,placeholder:"输入相册数字序号"},on:{input:function(t){e.jumpToAlbumIndex=parseInt(t.trim())}}})},onOk:function(){var t=e.jumpToAlbumIndex;if(!isNaN(t)&&t>0){"browse"===e.mode&&(e.restore.page=e.page),e.mode="jump",e.isInitial=!0;var i=Math.ceil(t/24);e.startIndex=24*(i-1)+1,e.page=i,e.gotoTop()}}})},restorePage:function(){"jump"===this.mode&&(this.mode="browse",this.isInitial=!0,this.page=this.restore.page)},toggleFullscreen:function(){var e=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.fullscreen=!this.fullscreen},showAlbumBrowser:function(e){this.$refs.albumBrowser.show(e)}}},h=m,d=(i("3d35"),Object(c["a"])(h,s,n,!1,null,"6843ff36",null));d.options.__file="index.vue";t["default"]=d.exports},d3ae:function(e,t,i){},ef80:function(e,t,i){"use strict";var s=i("d3ae"),n=i.n(s);n.a}}]);